{
  "hash": "724bc876d661f9c0e7991ba55e9e5b7c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Dataset 1 Analysis\"\nauthor: \"Prathishta\"\ndate: \"2024-10-17\"\ndescription: \"Valentine's day Expense\"\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Analysis of Valentine's day spending.\n\n## 1.Setting up R Packages\n\nloading the required packages:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\nlibrary(ggprism)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# https://stackoverflow.com/questions/74491138/ggplot-custom-fonts-not-working-in-quarto\n\n# Chunk options\nknitr::opts_chunk$set(\n  fig.width = 7,\n  fig.asp = 0.618, # Golden Ratio\n  # out.width = \"80%\",\n  fig.align = \"center\"\n)\n### Ggplot Theme\n### https://rpubs.com/mclaire19/ggplot2-custom-themes\n\ntheme_custom <- function() {\n  font <- \"Roboto Condensed\" # assign font family up front\n\n  theme_classic(base_size = 14) %+replace% # replace elements we want to change\n\n    theme(\n      panel.grid.minor = element_blank(), # strip minor gridlines\n      text = element_text(family = font),\n      # text elements\n      plot.title = element_text( # title\n        family = font, # set font family\n        size = 16, # set font size\n        face = \"bold\", # bold typeface\n        hjust = 0, # left align\n        # vjust = 2                #raise slightly\n        margin = margin(0, 0, 10, 0)\n      ),\n      plot.subtitle = element_text( # subtitle\n        family = font, # font family\n        size = 14, # font size\n        hjust = 0,\n        margin = margin(2, 0, 5, 0)\n      ),\n      plot.caption = element_text( # caption\n        family = font, # font family\n        size = 8, # font size\n        hjust = 1\n      ), # right align\n\n      axis.title = element_text( # axis titles\n        family = font, # font family\n        size = 10 # font size\n      ),\n      axis.text = element_text( # axis text\n        family = font, # axis family\n        size = 8\n      ) # font size\n    )\n}\n\n# Set graph theme\ntheme_set(new = theme_custom())\n#\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Reading data\ngifts_age <- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-02-13/gifts_age.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 6 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Age\ndbl (8): SpendingCelebrating, Candy, Flowers, Jewelry, GreetingCards, Evenin...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(gifts_age)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 6\nColumns: 9\n$ Age                 <chr> \"18-24\", \"25-34\", \"35-44\", \"45-54\", \"55-64\", \"65+\"\n$ SpendingCelebrating <dbl> 51, 40, 31, 19, 18, 13\n$ Candy               <dbl> 70, 62, 58, 60, 50, 42\n$ Flowers             <dbl> 50, 44, 41, 37, 32, 25\n$ Jewelry             <dbl> 33, 34, 29, 20, 13, 8\n$ GreetingCards       <dbl> 33, 33, 42, 42, 43, 44\n$ EveningOut          <dbl> 41, 37, 30, 31, 29, 24\n$ Clothing            <dbl> 33, 27, 26, 20, 19, 12\n$ GiftCards           <dbl> 23, 19, 22, 23, 20, 20\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## 2.Introduction\n\nThis is an analysis of Valentine's Day spending across various gift categories, broken down by different age groups. The aim is to explore patterns in spending for gifts such as candy, flowers, jewelry, and greeting cards, and how they differ by age.\n\n## 3.Data Dictionary\n\n-   **Quantitative Variables:**\n\n    -   Age: Age groups of individuals (18-24, 25-34, 35-44, 45-54, 55-64, 65+)\n\n    -   Candy: Amount spent on candy\n\n    -   Flowers: Amount spent on flowers\n\n    -   Jewellery: Amount spent on jewelry\n\n    -   GiftCards: Amount spent on gift cards\n\n    -   Clothings: Amount spent on clothing\n\n    -   Greeting Cards: Amount spent on greeting cards\n\n    -   EveningOuts: Amount spent on an evening out\n\n    -   SpendingCelebrating: Total amount spent on celebrating Valentine’s Day\n\n-   **Qualitative Variables:**\n\n    -   None\n\n    ## 4.Target and Predictor Variable\n\n    -   Target Variable: Spending amounts across different categories\n\n    -   Predictor Variable: Age group of the participants\n\n## 5. Research Experiment\n\nThe dataset was likely collected through surveys or sales reports that categorized purchases based on age groups.\n\n## 6.Research Questions\n\n-   How does spending on various gift categories change across different age groups?\n\n-   Which age group spends the most on specific categories like candy, jewelry, or evening outings?\n\n-   Are there notable differences in spending trends for items typically associated with Valentine's Day (e.g., flowers, greeting cards)?\n\n### 7.Data Preprocessing\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngifts_age_long <- gifts_age %>%\n  pivot_longer(cols = -Age, names_to = \"Item\", values_to = \"AmountSpent\") %>%\n  mutate(Age = factor(Age, levels = c(\"18-24\", \"25-34\", \"35-44\", \"45-54\", \"55-64\", \"65+\")),\n         Item = factor(Item, levels = c(\"Candy\", \"Clothing\", \"EveningOut\", \"Flowers\", \n                                        \"GiftCards\", \"GreetingCards\", \"Jewelry\", \"SpendingCelebrating\")))\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(gifts_age_long, aes(x = Age, y = AmountSpent, color = Item, shape = Item)) +\n  geom_line(aes(group = Item), size = 1) +\n  geom_point(size = 3) +\n  scale_shape_manual(values = c(0, 1, 2, 3, 4, 5, 6, 7)) +  # Different shapes for each item\n  labs(title = \"Valentine's Day Spending Across Age Groups\",\n       subtitle = \"Amounts spent per gift category\",\n       x = \"Age Group in Years\",\n       y = \"Amount Spent (in $)\",\n       caption = \"Data Source: Tidy Tuesday 13-Feb-2024\") +\n  theme_prism(axis_text_angle = 45) +  # Customizing axis with ggprism\n  theme(legend.title = element_text(size = 12), \n        legend.text = element_text(size = 10),\n        plot.title = element_text(face = \"bold\", size = 16),\n        axis.text.x = element_text(size = 12),\n        axis.text.y = element_text(size = 12)) +\n  scale_color_prism()  # Using ggprism color palette\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Dataset1_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## 8.Inference and Storytelling\n\n-   Candy and Flowers: The 25-34 age group tends to spend the most on candy and flowers, possibly as they are within the prime age of gift-giving.\n\n-   Jewelry: Spending on jewelry is highest in the 35-44 age group, which may be associated with more stable financial standing.\n\n-   Greeting Cards and Gift Cards: Greeting cards and gift cards are more evenly distributed across age groups, with only slight peaks in specific age ranges.\n\n-   Evening Out: Spending on evenings out peaks in the 25-34 and 35-44 age groups, showing a preference for experiences over material gifts during these years.\n\n## 9. Conclusion\n\nThis analysis sheds light on the different spending patterns for Valentine's Day gifts across age groups. While younger individuals (18-24) may spend more on smaller, less expensive items like candy, older age groups tend to invest in higher-value gifts like jewelry or an evening out. Understanding these trends can help marketers and retailers target their promotions more effectively during the Valentine's Day season.\n",
    "supporting": [
      "Dataset1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}